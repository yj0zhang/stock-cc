(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"121":function(e,t,n){},"125":function(e,t,n){},"127":function(e,t,n){},"133":function(e,t,n){},"242":function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(2),o=n(8),i=n(236),s=n(78);var c=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var l=function(){function KeyPointModel(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,KeyPointModel);var t=e.stockId,n=e.stockName,a=e.currentPrice,r=e.yesterdayClosePrice,o=function _objectWithoutProperties(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["stockId","stockName","currentPrice","yesterdayClosePrice"]);this.stockId=t,this.stockName=n,this.currentPrice=a,this.yesterdayClosePrice=r,this.attrs=o}return c(KeyPointModel,[{"key":"gap","value":function gap(){return(this.currentPrice-this.yesterdayClosePrice).toFixed(2)}},{"key":"gapRate","value":function gapRate(){return(100*(this.currentPrice-this.yesterdayClosePrice)/this.yesterdayClosePrice).toFixed(2)}}]),KeyPointModel}(),u=(n(121),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());(function(e){function KeyPoint(){!function KeyPoint_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,KeyPoint);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(KeyPoint.__proto__||Object.getPrototypeOf(KeyPoint)).call(this));return e.state={"list":[]},e}(function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(KeyPoint,r["a"].Component),u(KeyPoint,[{"key":"componentWillMount","value":function componentWillMount(){this.getKeyPoint()}},{"key":"getKeyPoint","value":function getKeyPoint(){var e=this;(function fetchKeyPoint(){return Object(s.a)("/stock/realtime/topIndex")})().then(function(t){var n=t.data_;console.log(n),e.setState({"list":n.map(function(e){return new l(e)})})})}},{"key":"render","value":function render(){return a.j.createElement(o.a,{"className":"KeyPoint g-p-40 g-mb-40"},a.j.createElement(o.a,{"className":"g-py-20"},a.j.createElement(o.a,null,"A股-沪深")),a.j.createElement(o.a,{"className":"KeyPoint__list"},this.state.list.map(function(e){return a.j.createElement(o.a,{"className":"KeyPoint__card g-p-12 g-text-center"},a.j.createElement(o.a,{"className":"KeyPoint__card-name"},e.stockName),a.j.createElement(o.a,{"className":e.gap()>0?"g-up":0===e.gap()?"":"g-down"},e.currentPrice),a.j.createElement(o.a,null,a.j.createElement(i.a,{"className":e.gap()>0?"g-mr-8 g-font-small g-up":0===e.gap()?"g-mr-8 g-font-small":"g-mr-8 g-font-small g-down"},e.gap()>0?"+"+e.gap():e.gap()),a.j.createElement(i.a,{"className":e.gapRate()>0?"g-font-small g-up":0===e.gapRate()?"g-font-small":"g-font-small g-down"},e.gapRate()>0?"+"+e.gapRate()+"%":e.gapRate()+"%")))})))}}])})(),n(125);var f=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();!function(e){function MarketOverview(e){!function MarketOverview_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MarketOverview);var t=function MarketOverview_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(MarketOverview.__proto__||Object.getPrototypeOf(MarketOverview)).call(this,e));return t.state={"up":0,"down":0,"zero":0},t}(function MarketOverview_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(MarketOverview,r["a"].Component),f(MarketOverview,[{"key":"componentWillMount","value":function componentWillMount(){this.getMarketOverview()}},{"key":"getMarketOverview","value":function getMarketOverview(){var e=this;(function fetchMarketOverview(){return Object(s.a)("/stock/realtime/uptickRateStatistics")})().then(function(t){var n=t.data_;console.log(n),e.setState({"up":n.up,"down":n.down,"zero":n.zero})})}},{"key":"render","value":function render(){return a.j.createElement(o.a,{"className":"MarketOverview g-p-40 g-mb-40"},a.j.createElement(o.a,{"className":"g-py-20"},a.j.createElement(o.a,null,"市场概况")),a.j.createElement(o.a,{"className":"MarketOverview__list"},a.j.createElement(o.a,{"className":"MarketOverview__card g-p-16"},a.j.createElement(o.a,{"className":"MarketOverview__card-name"},"涨停"),a.j.createElement(o.a,{"className":"g-up"},this.state.up)),a.j.createElement(o.a,{"className":"MarketOverview__card g-p-16"},a.j.createElement(o.a,{"className":"MarketOverview__card-name"},"跌停"),a.j.createElement(o.a,{"className":"g-down"},this.state.down)),a.j.createElement(o.a,{"className":"MarketOverview__card g-p-16"},a.j.createElement(o.a,{"className":"MarketOverview__card-name"},"持平"),a.j.createElement(o.a,null,this.state.zero))))}}])}();var p=n(234),g=n(247);function getRate(e){return!e||isNaN(parseFloat(e))?0:parseFloat((100*parseFloat(e)).toFixed(2))}var m,y,d,h=function RangeStock(e){!function RangeStock_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RangeStock);var t=e.stockId,n=e.stockCode,a=e.stockName,r=e.uptickRate,o=e.surgeRate,i=e.dealNum,s=e.dealMoney;this.stockId=t,this.stockCode=n,this.stockName=a,this.uptickRate=getRate(r),this.surgeRate=getRate(o),this.dealNum=i||0,this.dealMoney=s||0},v=(n(127),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());!function(e){e.asc="ASC",e.desc="DESC"}(m||(m={})),function(e){e.uptickRate="uptickRate",e.surgeRate="surgeRate",e.dealNum="dealNum",e.dealMoney="dealMoney"}(y||(y={})),function(e){e.ready="more",e.loading="loading",e.nomore="noMore"}(d||(d={}));(function(e){function RankingList(e){!function RankingList_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RankingList);var t=function RankingList_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(RankingList.__proto__||Object.getPrototypeOf(RankingList)).call(this,e));return t.state={"listStatus":d.ready,"sortType":m.asc,"sortTypes":[{"name":"涨幅榜","value":y.uptickRate},{"name":"波动","value":y.surgeRate},{"name":"成交量","value":y.dealNum},{"name":"成交金额","value":y.dealMoney}],"pageSize":20,"pageNum":1,"sortField":y.uptickRate,"list":[]},t}(function RankingList_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(RankingList,r["a"].Component),v(RankingList,[{"key":"componentWillMount","value":function componentWillMount(){this.getRankList()}},{"key":"getNextPage","value":function getNextPage(){var e=this;this.setState({"pageNum":this.state.pageNum+1},function(){e.getRankList()})}},{"key":"getRankList","value":function getRankList(){var e=this;this.state.listStatus!==d.loading&&this.setState({"listStatus":d.loading},function(){(function fetchRankList(e){return Object(s.a)("/stock/realtime/rank",{"data":e})})({"pageNum":e.state.pageNum,"pageSize":e.state.pageSize,"type":e.state.sortField,"sortType":e.state.sortType}).then(function(t){var n=t.data_;e.setState({"list":e.state.list.concat(n.map(function(e){return new h(e)})),"listStatus":n&&n.length===e.state.pageSize?d.ready:d.nomore})})})}},{"key":"getListByType","value":function getListByType(e){var t=this;console.log(e),this.setState({"sortField":e.value,"pageNum":1,"list":[]},function(){t.getRankList()})}},{"key":"gotoDetail","value":function gotoDetail(e){r.a.navigateTo({"url":"/packageA/pages/detail/index?id="+e.stockId})}},{"key":"toggleSortType","value":function toggleSortType(){var e=this;this.setState({"sortType":this.state.sortType===m.asc?m.desc:m.asc,"pageNum":1,"list":[]},function(){e.getRankList()})}},{"key":"getClass","value":function getClass(e){var t="g-flex-cell g-flex-row";return t+=e>0?" g-up":0===e?"":" g-down"}},{"key":"render","value":function render(){var e=this;return a.j.createElement(o.a,{"className":"RankingList g-p-40 g-mb-40"},a.j.createElement(o.a,{"className":"g-py-20"},"股票排行"),a.j.createElement(o.a,{"className":"RankingList__sort-fields g-mb-10"},this.state.sortTypes.map(function(t){return a.j.createElement(o.a,{"className":e.state.sortField===t.value?"RankingList__sort-fields--active":""},a.j.createElement(p.a,{"size":"small","onClick":e.getListByType.bind(e,t)},t.name))})),a.j.createElement(o.a,{"style":"width: 40px"},a.j.createElement(p.a,{"size":"small","type":"secondary","onClick":this.toggleSortType.bind(this)},this.state.sortType===m.asc?"升序↑":"降序↓")),a.j.createElement(o.a,{"className":"RankingList__table g-py-20 g-flex-column g-flex-column--row-border"},a.j.createElement(o.a,{"className":"g-flex-cell g-flex-row"},a.j.createElement(i.a,{"className":"g-flex-cell g-flex-row RankingList__table-title"},"股票"),a.j.createElement(i.a,{"className":"g-flex-cell g-flex-row RankingList__table-title"},"涨幅"),a.j.createElement(i.a,{"className":"g-flex-cell g-flex-row RankingList__table-title"},"波动"),a.j.createElement(i.a,{"className":"g-flex-cell g-flex-row RankingList__table-title"},"成交量"),a.j.createElement(i.a,{"className":"g-flex-cell g-flex-row RankingList__table-title"},"成交金额")),this.state.list.map(function(t){return a.j.createElement(o.a,{"className":"g-flex-cell g-flex-row","onClick":e.gotoDetail.bind(e,t)},a.j.createElement(i.a,{"className":"g-flex-cell g-flex-row"},a.j.createElement(i.a,{"className":"g-flex-cell g-flex-row"},t.stockName),a.j.createElement(i.a,{"className":"RankingList__item-code g-flex-cell g-flex-row"},t.stockCode)),a.j.createElement(i.a,{"className":e.getClass(t.uptickRate)},t.uptickRate,"%"),a.j.createElement(i.a,{"className":e.getClass(t.surgeRate)},t.surgeRate,"%"),a.j.createElement(i.a,{"className":e.getClass(t.dealNum)},t.dealNum),a.j.createElement(i.a,{"className":e.getClass(t.dealMoney)},t.dealMoney))})),a.j.createElement(g.a,{"onClick":this.getNextPage.bind(this),"status":this.state.listStatus}))}}])})(),n(133);var k=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),_=function get(e,t,n){null===e&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0};var w=function(e){function MarketQuotation(e){!function marketQuotations_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MarketQuotation);var t=function marketQuotations_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(MarketQuotation.__proto__||Object.getPrototypeOf(MarketQuotation)).call(this,e));return t.config={"navigationBarTitleText":"行情"},t}return function marketQuotations_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(MarketQuotation,r["a"].Component),k(MarketQuotation,[{"key":"render","value":function render(){return a.j.createElement(o.a,{"className":"MarketQuotation"},a.j.createElement(void 0,null),a.j.createElement(void 0,null),a.j.createElement(void 0,null))}},{"key":"componentDidMount","value":function componentDidMount(){_(MarketQuotation.prototype.__proto__||Object.getPrototypeOf(MarketQuotation.prototype),"componentDidMount",this)&&_(MarketQuotation.prototype.__proto__||Object.getPrototypeOf(MarketQuotation.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidShow","value":function componentDidShow(){_(MarketQuotation.prototype.__proto__||Object.getPrototypeOf(MarketQuotation.prototype),"componentDidShow",this)&&_(MarketQuotation.prototype.__proto__||Object.getPrototypeOf(MarketQuotation.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){_(MarketQuotation.prototype.__proto__||Object.getPrototypeOf(MarketQuotation.prototype),"componentDidHide",this)&&_(MarketQuotation.prototype.__proto__||Object.getPrototypeOf(MarketQuotation.prototype),"componentDidHide",this).call(this)}}]),MarketQuotation}();t.default=w},"78":function(e,t,n){"use strict";var a=n(235),r=n(244);function isNil(e){return void 0===e||null===e}var o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var i=function(){function Response(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Response),this.raw_=e.raw,this.error_=null,this.code_=e.code,this.data_=e.data,this.message_=e.message}return o(Response,[{"key":"clone","value":function clone(){return new Response({"data":this.data,"raw":this.raw_,"code":this.code,"message":this.message})}},{"key":"ok","value":function ok(){return!this.error}},{"key":"unwrap","value":function unwrap(){return this.data}},{"key":"wrap","value":function wrap(e){var t=this.clone();return t.data_=e,t}},{"key":"get","value":function get(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function getAttr(e,t,n){if("[object Object]"!==Object.prototype.toString.call(t))return n;if(!e)return t;for(var a=e.split("."),r=t,o=void 0,i=0;i<a.length;i++){if(!(o=a[i])&&!isNil(n))return null;if(!isNil(r=r[o]))return r}return isNil(n)?r:n}(e,this.data,t)}},{"key":"has","value":function has(e){return this.data&&void 0!==this.data[e]&&null!==this.data[e]}},{"key":"raw","get":function get(){return this.raw_}},{"key":"data","get":function get(){return this.data_}},{"key":"error","get":function get(){return this.error_},"set":function set(e){this.error_=e}},{"key":"code","get":function get(){return this.code_}},{"key":"message","get":function get(){return this.message_},"set":function set(e){this.message_=e}}]),Response}();var s=function(e){function Exception(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function Exception_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Exception);var a=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Exception.__proto__||Object.getPrototypeOf(Exception)).call(this,e));return a.name="Exception",a.type=t||"UNKNOWN",a.stack=(new Error).stack,a.info=n||{},a}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Exception,Error),Exception}(),c=n(87),l=n.n(c)()({"UNKNOWN":null,"WX_API_FAIL":null,"WX_API_SUPPORT_FAIL":null,"WX_NOT_AUTH":null,"NETWORK":null,"API_CLIENT":null,"API_SERVER":null,"API_INVALID_AUTH_CODE":null,"ACTION_CANCEL":null,"NOT_EMPLOYEE":null,"ABORT_FETCH":null});n.d(t,"a",function(){return fetch_get});var u="https://api.1fox3.com",f=Object.assign,p=null,g=function onErrorInterceptor(e){return Promise.reject(e)};function fetch(e){e=f({},e,{"header":f({},{"content-type":"application/json"},e.header),"method":"get"},e);var t=function request(){return"function"==typeof p&&(e=p(e)),new Promise(function(t,n){Object(a.a)(e).then(function(e){var a=function createResponse(e){var t=null,n=e.statusCode,a=e.data||null;if("string"==typeof a)try{a=JSON.parse(a)}catch(e){a=null}if(!a){var r=e.errMsg||null;return(t=new i({"raw":e,"message":r})).error=new s(null,l.API_SERVER),t}if(200===n||a.code){if(0!==a.code){var o=a.msg||null;return(t=new i({"raw":e,"message":o})).error=new s(o,l.API_SERVER),t}return t=new i({"data":a.data,"code":a.code,"message":a.msg,"raw":e})}var c=l.UNKNOWN;400<=n&&n<=451?c=l.API_CLIENT:500<=n&&n<=511&&(c=l.API_SERVER);var u=(a||{}).msg||e.statusCode+": `"+e.errMsg+"`"||"";return(t=new i({"raw":e,"data":a.data,"code":a.code,"message":u})).error=new s(u,c),t}(e);if(!a.ok())return n(a.error);t(a)},function(e){return n(new s(e.message||e.errMsg,l.UNKNOWN))})})};return new Promise(function(e,n){t().then(e,function(a){g(a).then(function(){t().then(e,n)},function(e){Object(r.a)({"title":e.message||"接口错误，请重试","icon":"none","duration":2e3}),n(e)})})})}function fetch_get(e,t){return(t=t||{}).method="GET",t.url=u+e,fetch(t)}}}]);